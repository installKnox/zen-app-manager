<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="titlebar.css" />
  <link rel="stylesheet" href="help.css" />
  <link rel="stylesheet" href="footer.css" />
  <link rel="stylesheet" href="file-picker.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zen App Manager</title>
  <script type="module" src="/main.js" defer></script>
</head>

<body>
  <div class="titlebar">
    <div data-tauri-drag-region class="titlebar-title"><span style="color: #00D4FF;">‚ô•</span></div>
    <div class="titlebar-controls">
      <div class="titlebar-button" id="titlebar-minimize">
        <svg viewBox="0 0 24 24" fill="white" style="width: 16px; height: 16px;">
          <path d="M19,13H5V11H19V13Z" />
        </svg>
      </div>
      <div class="titlebar-button" id="titlebar-maximize">
        <svg viewBox="0 0 24 24" fill="white" style="width: 16px; height: 16px;">
          <path d="M4,4H20V20H4V4M6,8V18H18V8H6Z" />
        </svg>
      </div>
      <div class="titlebar-button" id="titlebar-close">
        <svg viewBox="0 0 24 24" fill="white" style="width: 16px; height: 16px;">
          <path
            d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg>
      </div>
    </div>
  </div>

  <header>
    <h1>Zen App Manager</h1>
  </header>

  <main>
    <div class="tabs">
      <button class="tab-btn active" data-tab="apps">Startup Apps</button>
      <button class="tab-btn" data-tab="services">System Services</button>
    </div>

    <div id="apps-view" class="view-content active">
      <div class="controls">
        <button id="theme-toggle" class="btn-icon" title="Toggle Amoled Mode">
          üåô
        </button>
        <button id="add-btn" class="btn">
          <span>+</span> Add New App
        </button>
      </div>

      <div id="app-list" class="app-list">
        <!-- Apps will be injected here -->
      </div>
    </div>

    <div id="services-view" class="view-content" style="display: none;">
      <div class="controls">
        <!-- Spacer to align with apps view -->
        <div style="flex: 1;"></div>
      </div>
      <p class="warning-text">‚ö†Ô∏è Be careful! Disabling critical services may break your system.</p>
      <div id="service-list" class="app-list">
        <!-- Services will be injected here -->
        <p style="text-align: center; padding: 2rem; color: rgba(255,255,255,0.5);">Loading services...</p>
      </div>
    </div>
  </main>

  <footer class="app-footer">
    Zen App Manager created with üíö by doksan8
  </footer>

  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-header" style="text-align: center; position: relative;">
        <h2>Add Startup App</h2>
        <button id="help-btn" class="help-btn" type="button">?</button>
      </div>

      <div id="help-content" class="help-content">
        <h3>How to add an app?</h3>
        <p>1. <strong>Name:</strong> Give your app a name (e.g., "Discord").</p>
        <p>2. <strong>Command:</strong> Enter the command to run the app.</p>
        <div class="tip-box">
          <span>üí° Tip:</span> You can usually find the command by opening a terminal and typing the app name (e.g.,
          <code>discord</code> or <code>spotify</code>). If it opens, that's your command!
        </div>
        <p>3. <strong>Description:</strong> Optional note about what this app does.</p>
      </div>

      <form id="add-form">
        <div class="form-group">
          <label for="app-name">Application Name</label>
          <input type="text" id="app-name" required placeholder="e.g. Firefox" />
        </div>
        <div class="form-group">
          <label for="app-command">Command</label>
          <div class="input-group">
            <input type="text" id="app-command" required placeholder="e.g. firefox" />
            <button type="button" id="browse-btn" class="btn-browse" title="Browse for application">üìÇ</button>
          </div>
        </div>
        <div class="form-group">
          <label for="app-desc">Description</label>
          <input type="text" id="app-desc" placeholder="Optional description" />
        </div>
        <div class="modal-actions">
          <button type="button" id="cancel-btn" class="btn-secondary">Cancel</button>
          <button type="submit" class="btn">Add App</button>
        </div>
      </form>
    </div>
  </div>

  <div id="confirm-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Are you sure bro?</h2>
      </div>
      <p style="margin-bottom: 2rem; color: rgba(255, 255, 255, 0.8);">Do you really want to remove this app from
        startup?</p>
      <div class="modal-actions">
        <button id="confirm-cancel-btn" class="btn-secondary">No, wait</button>
        <button id="confirm-yes-btn" class="btn" style="background: #ff4d4d; color: white;">Yes, delete it</button>
      </div>
    </div>
  </div>
</body>

</html>